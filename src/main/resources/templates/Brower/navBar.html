<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beta Cinema</title>
    <!-- Link to Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div th:fragment="navbar" >

    <!-- Menu với Bootstrap -->
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #ecc93f">
        <div class="container-fluid">
            <a class="navbar-brand" href="/home.htm">
                <img src="/assets/img/logo%20(1).png" >
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Menu chứa danh sách rạp -->
            <div th:replace="~{Brower/menuLocation::navLocation}"></div>

            <!-- Các mục menu thông thường -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item me-3 ">
                        <a class="nav-link active text-decoration-none  border-0 pb-2 text-black fw-bold"  aria-current="page" href="/showtimeCinema.htm"
                           onmouseover="this.classList.add('border-bottom', 'border-primary')"
                           onmouseout="this.classList.remove('border-bottom', 'border-primary')">
                            Lịch chiếu theo rạp</a>
                    </li>
                    <li class="nav-item me-3">
                        <a class="nav-link text-decoration-none  border-0 pb-2 text-black fw-bold" href="/phim.htm"
                           onmouseover="this.classList.add('border-bottom', 'border-primary')"
                           onmouseout="this.classList.remove('border-bottom', 'border-primary')">
                            Phim</a>
                    </li>
                    <li class="nav-item me-3">
                        <a class="nav-link text-decoration-none border-0 pb-2 text-black fw-bold" href="#"
                           onmouseover="this.classList.add('border-bottom', 'border-primary')"
                           onmouseout="this.classList.remove('border-bottom', 'border-primary')">
                            Rạp</a>
                    </li>
                    <li class="nav-item me-3 ">
                        <a class="nav-link text-decoration-none border-0 pb-2 text-black fw-bold" href="/price.htm"
                           onmouseover="this.classList.add('border-bottom', 'border-primary')"
                           onmouseout="this.classList.remove('border-bottom', 'border-primary')">
                            Giá vé</a>
                    </li>
                    <li class="nav-item me-3">
                        <a class="nav-link text-decoration-none border-0 pb-2 text-black fw-bold" href="#"
                           onmouseover="this.classList.add('border-bottom', 'border-primary')"
                           onmouseout="this.classList.remove('border-bottom', 'border-primary')">
                            Tin mới và ưu đãi</a>
                    </li>
                    <li class="nav-item me-3">
                        <a class="nav-link me-3 text-decoration-non register text-black fw-bold" href="/dangkithanhvien.htm">
                            <span>Đăng ký thành viên</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

</div>
<script th:src="@{/assets/js/browerJS/menuLocation.js}"></script>

<script th:src="@{/assets/js/browerJS/navBar.js}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Mã của bạn ở đây

    // Kiểm tra nếu có userId trong URL
    function checkUserStatus() {
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('userId');
        console.log("User ID from URL:", userId);  // Kiểm tra giá trị userId

        // Nếu có userId, hiển thị "Thông tin thành viên", ngược lại là "Đăng ký thành viên"
        const registerLink = document.querySelector('.nav-link.register');
        const registerText = document.querySelector('.nav-link.register span');

        if (userId != null) {
            registerLink.href = `/thongtinthanhvien.htm?userId=${userId}`;  // Đổi đường dẫn
            registerText.textContent = 'Thông tin thành viên';  // Đổi text hiển thị
        } else {
            registerLink.href = '/dangkithanhvien.htm';  // Đường dẫn đăng ký thành viên
            registerText.textContent = 'Đăng ký thành viên';  // Text hiển thị mặc định
        }
    }

    // Gọi hàm khi trang tải xong
    window.onload = checkUserStatus;
    });

</script>

<!-- Link to Bootstrap JS & Dependencies -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
