<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Theater Seat Map</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }

        .main-container {
            display: flex;
            justify-content: space-between;
            margin: 20px auto;
            max-width: 1200px;
            border: 2px solid #ccc;
            padding: 20px;
            border-radius: 8px;
            background-color: #fff;
        }

        .seat-map-container {
            flex: 3;
        }

        .movie-info-container {
            flex: 1;
            border: 2px solid #ccc;
            border-radius: 8px;
            padding: 20px;
            background-color: #f8f9fa;
        }

        .seat {
            width: 60px;
            height: 60px;
            margin: 5px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            border: 1px solid #ccc;
            background-color: #fff;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s, color 0.3s;
        }

        .seat.selected {
            background-color: #0911b9;
            color: #fff;
        }

        .seat span {
            font-size: 20px;
            margin-right: 5px;
        }

        .movie-poster {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .movie-details {
            margin-top: 15px;
        }

        .selected-seats {
            margin-top: 15px;
            font-size: 16px;
            color: #333;
        }

        .selected-seats span {
            font-weight: bold;
            color: #0911b9;
        }
        #seatvip{
            margin-left: 40px;
        }
        #seatcouple{
            margin-left: 108px;
        }
        #informationseat{
            display: flex;
            margin-left: 150px;
        }
        .divider {
      border: none;
      border-top: 2px dashed gray; /* ÄÆ°á»ng káº» nÃ©t Ä‘á»©t */
      margin: 20px 0;
    }
    /* ======================ThÃ´ng bÃ¡o cáº£nh bÃ¡o Ä‘á»™ tuá»•i ============ */
    @keyframes flash {
      0% { background-color: #f5d985; } /* VÃ ng */
      50% { background-color: rgb(221, 151, 45); } /* Cam */
      100% { background-color: #e6c383; } /* VÃ ng */
    }

    .blinking-alert {
      animation: flash 3s infinite; /* Thá»i gian 1 giÃ¢y vÃ  láº·p vÃ´ háº¡n */
      color:red; /* MÃ u chá»¯ */
      text-align: center;
      font-weight: bold;
      width: 700px;
      margin-left: 70px;
    }
    .time-remaining {
      font-size: 40px;
      color:black;
      font-weight: bold;
      margin-left: 10px;
      margin-top: 2px;
    }
    </style>
</head>
<body>
  <div id="menu-container"></div>

    <div class="main-container">
        <!-- Khung 1: SÆ¡ Ä‘á»“ gháº¿ -->
        <div class="seat-map-container">
            <h2 class="text-center">Movie Theater Seat Map</h2>
            <div class="alert blinking-alert">
                Theo quy Ä‘á»‹nh cá»§a cá»¥c Ä‘iá»‡n áº£nh, phim nÃ y khÃ´ng dÃ nh cho khÃ¡n giáº£ dÆ°á»›i 18  tuá»•i.  
              </div>
          <div clss="d-flex" id="informationseat">
            <div class="infoseat">
                <div class="seat seat-regular" onclick="toggleSeat(this)">
                  <span class="seat-icon">ğŸª‘</span> 
                </div>
                <span>Gháº¿ Trá»‘ng</span>
            </div>
            <div class="infoseat">
                <div style=" background-color: #0911b9;" class="seat seat-regular" onclick="toggleSeat(this)">
                   <span class="seat-icon">ğŸª‘</span> 
                </div>
                <span>Gháº¿ Ä‘ang chá»n</span>
            </div>
            <div class="infoseat">
                <div style=" background-color: #f50a0a;" class="seat seat-regular" onclick="toggleSeat(this)">
                    <span class="seat-icon">ğŸª‘</span> 
                </div>
                <span>Gháº¿ Ä‘Ã£ chá»n</span>
            </div>
          </div> 
            <img style="width: 700px;" src="https://betacinemas.vn/Assets/global/img/booking/ic-screen.png" class="img-responsive mx-auto d-block mb-3">
            <div class="row d-flex justify-content-center">
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A1','regular')"><span>ğŸª‘</span>A1</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A2','regular')"><span>ğŸª‘</span>A2</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A3','regular')"><span>ğŸª‘</span>A3</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A4','regular')"><span>ğŸª‘</span>A4</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A5','regular')"><span>ğŸª‘</span>A5</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A6','regular')"><span>ğŸª‘</span>A6</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A7','regular')"><span>ğŸª‘</span>A7</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A8','regular')"><span>ğŸª‘</span>A8</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'A9','regular')"><span>ğŸª‘</span>A9</div>
            </div>
            <div class="row d-flex justify-content-center">
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B1','regular')"><span>ğŸª‘</span>B1</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B2','regular')"><span>ğŸª‘</span>B2</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B3','regular')"><span>ğŸª‘</span>B3</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B4','regular')"><span>ğŸª‘</span>B4</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B5','regular')"><span>ğŸª‘</span>B5</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B6','regular')"><span>ğŸª‘</span>B6</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B7','regular')"><span>ğŸª‘</span>B7</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B8','regular')"><span>ğŸª‘</span>B8</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'B9','regular')"><span>ğŸª‘</span>B9</div>
            </div>
            <div class="row d-flex justify-content-center">
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'C1', 'vip')"><span>ğŸ’º</span>C1</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'C2', 'vip')"><span>ğŸ’º</span>C2</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'C3', 'vip')"><span>ğŸ’º</span>C3</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'C4', 'vip')"><span>ğŸ’º</span>C4</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'C5', 'vip')"><span>ğŸ’º</span>C5</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'C6', 'vip')"><span>ğŸ’º</span>C6</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'C7', 'vip')"><span>ğŸ’º</span>C7</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'C8', 'vip')"><span>ğŸ’º</span>C8</div>
            </div>
            <div class="row d-flex justify-content-center">
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'D1', 'vip')"><span>ğŸ’º</span>D1</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'D2', 'vip')"><span>ğŸ’º</span>D2</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'D3', 'vip')"><span>ğŸ’º</span>D3</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'D4', 'vip')"><span>ğŸ’º</span>D4</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'D5', 'vip')"><span>ğŸ’º</span>D5</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'D6', 'vip')"><span>ğŸ’º</span>D6</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'D7', 'vip')"><span>ğŸ’º</span>D7</div>
                <div style="width: 70px;" class="seat" onclick="toggleSeat(this, 'D8', 'vip')"><span>ğŸ’º</span>D8</div>
            </div>
            <div class="row d-flex justify-content-center">
                <div style="width: 100px;" class="seat" onclick="toggleSeat(this, 'E1-E2','couple')"><span>ğŸ›‹ï¸</span>E1-E2</div>
                <div style="width: 100px;" class="seat" onclick="toggleSeat(this, 'E3-E4','couple')"><span>ğŸ›‹ï¸</span>E3-E4</div>
                <div style="width: 100px;" class="seat" onclick="toggleSeat(this, 'E5-E6','couple')"><span>ğŸ›‹ï¸</span>E5-E6</div>
                <div style="width: 100px;" class="seat" onclick="toggleSeat(this, 'E7-E8','couple')"><span>ğŸ›‹ï¸</span>E7-E8</div>
            </div>
            <div  style="margin-left: 100px;" class="row">
                <div style="width: 200px;" class="seat seat-regular">
                    <span class="seat-icon">ğŸª‘</span> Gháº¿ ThÆ°á»ng
                </div>
                <div  style="width: 200px;"  class="seat seat-vip">
                    <span class="seat-icon">ğŸ’º</span> Gháº¿ Vip
                </div>
                <div style="width: 200px;" class="seat seat-couple">
                    <span class="seat-icon">ğŸ›‹ï¸</span> Gháº¿ Ä‘Ã´i
                </div>
            </div>
            <div  style="margin-left: 100px;" class="row">
                <div style="width: 200px;" class="seat seat-regular">
                    45.000 Ä‘/ticket
                </div>
                <div  style="width: 200px;"  class="seat seat-vip">
                    55.000 Ä‘/ticket
                </div>
                <div style="width: 200px;" class="seat seat-couple">
                     120.000 Ä‘/ticket
                </div>
            </div>
            <div  style="margin-left: 250px;" class="d-flex">
                <p style="font-size: 30px; margin-top: 10px;"><strong>Thá»i gian cÃ²n láº¡i:</strong></p>
                <div id="time" class="time-remaining">10:00</div>
            </div>
        </div>
       

        <!-- Khung 2: ThÃ´ng tin phim -->
        <div class="movie-info-container">
            <img src="https://files.betacorp.vn/media%2fimages%2f2024%2f10%2f09%2fbeta%2D400x633%2D133538%2D091024%2D49.png" class="movie-poster" alt="Movie Poster">
            <div class="movie-details">
                <h4>TÃªn phim: Avengers</h4>
                <p>Thá»ƒ loáº¡i: HÃ nh Ä‘á»™ng</p>
                <p>Thá»i lÆ°á»£ng: 120 phÃºt</p>
                <hr class="divider">
                <p>Ráº¡p: Beta Cinema</p>
                <p>PhÃ²ng chiáº¿u: 1</p>
            </div>
            <div class="selected-seats">
                <!-- <strong>Gháº¿ Ä‘Ã£ chá»n:</strong>
                <span id="selectedSeatsText"></span> -->
                <p><strong>Selected Seats:</strong> <span id="selected-seats-list"></span></p>
                <p class="total-price"><strong>Total Price:</strong> <span id="total-price">0 VND</span></p>
            </div>
            <button class="btn btn-primary mt-3" id="continueBtn" >Tiáº¿p tá»¥c</button>
        </div>
    </div>

    <div id="footer-container"></div>
    <script>
         //  =============== Gá»i menu vÃ o trÃ¬nh bÃ y ==============
          // Gá»i menu.html vÃ  chÃ¨n vÃ o #menu-container
    fetch('menu1.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('menu-container').innerHTML = data;
      })
      .catch(error => console.error('Error loading menu:', error));
     
// ========================== TÃ­nh tiá»n vÃ© ===========================
        const selectedSeats = [];
        let totalPrice = 0;

        const seatPrices = {
            regular: 45000,
            vip: 55000,
            couple:120000
        };
        function toggleSeat(seat, seatName, seatType = 'regular') {
            seat.classList.toggle('selected');
            if (seat.classList.contains('selected')) {
                selectedSeats.push(seatName);
                totalPrice += seatPrices[seatType];
            } else {
                const index = selectedSeats.indexOf(seatName);
                if (index > -1) {
                    selectedSeats.splice(index, 1);
                    totalPrice -= seatPrices[seatType];
                }
            }
            document.getElementById('selected-seats-list').textContent = selectedSeats.join(', ');
            document.getElementById('total-price').textContent = totalPrice.toLocaleString() + ' VND';
        }
       
         //  =============== Gá»i footer vÃ o trÃ¬nh bÃ y ==============
          // Gá»i footer.html vÃ  chÃ¨n vÃ o #footer-container
          fetch('Footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('footer-container').innerHTML = data;
      })
      .catch(error => console.error('Error loading menu:', error));
    </script>
    <!-- ===============================Chuyá»ƒn trang sang trang thanh toÃ¡n ========================= -->
    <script>
     
    document.getElementById("continueBtn").addEventListener("click", () => {
    // Láº¥y tá»•ng tiá»n tá»« pháº§n tá»­ cÃ³ id="total-price"
    const totalPrice = parseInt(document.getElementById("total-price").textContent);

    // Kiá»ƒm tra náº¿u tá»•ng tiá»n khÃ¡c 0
    if (totalPrice > 0) {
        // LÆ°u dá»¯ liá»‡u vÃ o LocalStorage (náº¿u cáº§n)
        // localStorage.setItem("bookingData", JSON.stringify(seatData));
        window.location.href = "thanhtoan.html"; // Chuyá»ƒn sang trang thanh toÃ¡n
    } else {
        // Hiá»ƒn thá»‹ cáº£nh bÃ¡o náº¿u tá»•ng tiá»n lÃ  0
        alert("Tá»•ng tiá»n pháº£i lá»›n hÆ¡n 0 Ä‘á»ƒ tiáº¿p tá»¥c.");
    }
    });
    </script>
    <!-- ============================Xá»­ lÃ½ Ä‘á»“ng há»“ =================== -->
     <script>
        // Tá»•ng thá»i gian: 10 phÃºt (600 giÃ¢y)
        let totalTime = 600;
    
        // HÃ m cáº­p nháº­t bá»™ Ä‘áº¿m ngÆ°á»£c
        function updateTimer() {
          const minutes = Math.floor(totalTime / 60);
          const seconds = totalTime % 60;
    
          // Hiá»ƒn thá»‹ thá»i gian á»Ÿ Ä‘á»‹nh dáº¡ng MM:SS
          document.getElementById('time').textContent = 
            `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    
          // Giáº£m thá»i gian
          totalTime--;
    
          // Khi thá»i gian vá» 0, chuyá»ƒn hÆ°á»›ng sang trang gui.html
          if (totalTime < 0) {
            clearInterval(timerInterval);
            window.location.href = "GuiBetaCinema.html"; // Chuyá»ƒn hÆ°á»›ng
          }
        }
    
        // Thiáº¿t láº­p interval Ä‘á»ƒ gá»i hÃ m má»—i giÃ¢y
        const timerInterval = setInterval(updateTimer, 1000);
    
        // Gá»i hÃ m ngay khi trang táº£i Ä‘á»ƒ cáº­p nháº­t láº§n Ä‘áº§u
        updateTimer();
      </script>
</body>
</html>
